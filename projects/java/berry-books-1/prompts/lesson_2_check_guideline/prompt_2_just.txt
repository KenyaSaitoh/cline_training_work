===============================================
ガイドライン準拠チェックプロンプト【中：適切版・改訂版】
===============================================

berry-books-1プロジェクトのソースコードがアーキテクチャガイドラインに準拠しているかを以下の観点でチェックしてください。
サンプリングではなく、必ずすべてのファイル・すべてのメソッドを確認すること。

## チェック項目

### 1. レイヤーアーキテクチャ
- プレゼンテーション層（web）、ビジネスロジック層（service）、データアクセス層（dao）、データモデル層（entity）の4層構造になっているか
- 依存関係が上位層から下位層への単方向になっているか
- 各レイヤーの責務が明確に分離されているか

### 2. パッケージ構成と命名規約
- パッケージが機能別に適切に分割されているか
- 命名規約に従っているか（Bean、Service、Dao、Entity等のサフィックス）

### 3. コンポーネント設計
- Managed Beanに適切なスコープアノテーション（@Named, @ViewScoped等）が付与されているか
- Serviceクラスに@ApplicationScopedと@Transactionalが付与されているか
- DAOクラスに@ApplicationScopedと@PersistenceContextが付与されているか
- Entityクラスが適切に設計されているか（@Entity、Serializable、引数なしコンストラクタ）

### 4. ログ出力方式
- SLF4Jを使用しているか
- ログ出力フォーマットが統一されているか
- publicメソッドの開始時にログが出力されているか
- 例外発生時に適切なログが出力されているか

### 5. トランザクション管理
- Serviceレイヤーで@Transactionalが適切に使用されているか
- DAOレイヤーでトランザクション制御を行っていないか

### 6. 例外ハンドリング
- ビジネス例外が適切に定義されているか
- 例外が適切にハンドリングされているか

### 7. その他
- 依存性注入（@Inject）が適切に使用されているか
- Bean Validationが使用されているか（適用可能な箇所で）

-