===============================================
機能拡張プロンプト【中：適切版】
===============================================

berry-books-1プロジェクトに在庫チェック機能を追加してください。

## 実装対象

詳細設計書（`spec/詳細設計書/EXCEL詳細仕様書_解凍版`フォルダ）の以下のセクションに記載された仕様に従って実装してください。

### 1. OutOfStockException例外クラスの作成

詳細設計書「14.2.1 OutOfStockException」を参照し、例外クラスを実装してください。

---

### 2. OrderServiceへの在庫チェックロジック追加

詳細設計書「8.3.3 在庫チェックロジック詳細」を参照し、以下を実装してください：
- 在庫チェック処理を`OrderService.orderBooks()`に追加
- 在庫不足時は`OutOfStockException`をスロー

---

### 3. OrderBeanでの例外ハンドリング追加

詳細設計書の仕様に従い、以下を実装してください：
- `OutOfStockException`をcatch
- エラーメッセージを設定し、エラーページへリダイレクト

---

## 注意事項

- トランザクション内での実装を考慮すること
- 詳細設計書に記載されたパッケージ構成、クラス構造に従うこと
